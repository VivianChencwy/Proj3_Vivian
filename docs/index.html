<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>2025 Surface Air Temperature (TaiESM1 ssp245)</title>
    <link rel="stylesheet" href="styles/style.css" />
    <script src="https://d3js.org/d3.v7.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3/dist/topojson-client.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" defer></script>
    <script type="module" src="scripts/temperature-map.js" defer></script>
  </head>
  <body>
    <header class="page-header">
      <h1>2025 Surface Air Temperature (TaiESM1 ssp245)</h1>
      <p>Explore the details of regional temperature distribution and changes through the click-to-reveal mechanism and city search function.</p>
      <div class="team-info">
        <strong>Team:</strong> TerraScope |
        <strong>Members:</strong> XinYi Zeng, ShuJia Chen, WeiYu Chen, Qi Zhang
      </div>
    </header>

    <section id="abstract">
        <h2>Abstract</h2>
        <p>This project presents an interactive global surface air temperature visualization map built using D3.js. The goal is to explore the 2025 global annual mean surface air temperature prediction data generated by the TaiESM1 climate model under the ssp245 (moderate emissions) scenario. The visualization features a "Reveal" interaction mechanism. The bottom layer is a static heatmap image which containing the overall global temperature information. A mask layer of country geographical boundaries is covered on top. People can click on any country or region to switch the mask's opacity, thereby selectively "revealing" the temperature heatmap details beneath. Furthermore, the work includes two important supporting data layers: a sidebar list of selected countries and quarterly city temperature points. This project successfully transforms complex climate model data into an intuitive, interactive tool, significantly enhancing user understanding of future temperature trends and regional differences.</p>
        
    </section>

    <div class="slider-box">
      <label for="time-slider">Current time:</label>
      <span id="current-time-display">Loading...</span>
      <input type="range" id="time-slider" min="0" max="0" value="0">
    </div>

    <main class="layout">
      <div class="search-bar">
      <input
        type="text"
        id="city-search"
        placeholder="Search for a city..."
        autocomplete="off"
      />
    </div>
      <section class="map-wrapper">
        <div id="map"></div>
      </section>
      <aside class="info-panel">
        <h2>Selected Countries/Regions</h2>
        <ul id="selection-list" class="selection-list"></ul>
      </aside>
    </main>

    <section id="discussion">
        <p>This project analyzes the key temperature patterns we observed from the 2025 surface air temperature predictions. It also explains why we chose certain interactive features. We also acknowledge the limitations of our data and methods. </p>
        <p>The visualization makes the complex global temperature data easier to handle. We use a temperature heatmap and put a precise country boundary mask on top of it. By clicking on a country, users can selectively remove the mask and focus on the areas they are interested in. We list some representative cities. The city search function allows users to quickly find specific geographical locations. When you hover over these city points, a Tooltip pops up to give you detailed quarterly temperature data, which is more specific than the annual country average display.</p>
        <p>We primarily used two data sources for this visualization. The first is the country's annual mean temperature data, provided by tas_2025_by_country.json which is organized by ISO-3 codes. The second is the city location and quarterly temperature data from city_temperatures_2025.json. The country_name_to_iso3.json file served as a lookup table. Thus, the loaded geographical shapes accurately matched the corresponding country temperature data. Also, we performed a real-time data transformation, converting the city temperatures from Kelvin to Celsius for display.</p>
        <p>Our team developed the visualization iteratively. We began by setting up the base heatmap and projection, then added interactive country layers, tooltips, and a city search function. Finally, we refined the color palette and hover effects to enhance visual clarity. For visual encoding, we used a static heatmap image as the bottom layer. And then adopted a standard diverging color scale to intuitively represent the temperature extremes and averages. The map uses the Equirectangular projection, which clearly displays temperature patterns across the globe. The interactive is implemented by D3 listening for the click event on the SVG country paths. When a user clicks a country, D3 dynamically sets the fill-opacity of that country’s mask to 0, thereby “revealing” the underlying temperature heatmap. The selected cities are marked as small circles, and a mouseover event is used to display a Tooltip that provides the detailed quarterly temperature data.</p>
        <p>All the data comes from predictions made by the TaiESM1 climate model under the ssp245 scenario. It is not actual measured data. Since it’s a prediction, it might have some uncertainty and depend on the specific emissions scenario chosen by the model. We mixed country-scale annual averages and city-scale quarterly data. This difference in scale and time means we can’t completely analyze at a single level of detail. The static temperature heatmap made the front-end rendering simpler. However, it also means that we can’t directly query the temperature data on the map</p>
    </section>

    <footer class="page-footer">
      <small>
        Data: TaiESM1 ScenarioMIP ssp245 (2015-2030 surface air temperature)
      </small>
    </footer>
  </body>
</html>

